D3D=3 
HD=True
32bit=True
target=C:\Games\Star Wars\Episode I - The Phantom Menace\wmain.exe
target_icon=TPM.EXE
script=Scripts\PhantomMenace.ahk
singlecore=True
NEFS=True
path=Star Wars\Episode I - The Phantom Menace
SSAA=0
BLT3D=False
DSR=False
xBR=False
WHKS=True
MHKS=False
 
[GPad]
A=1
B=2
X=3
Y=4
LEFT_SHOULDER=5
RIGHT_SHOULDER=6
bLeftTrigger=7
bRightTrigger=8
Start=9
Back=10
LEFT_THUMB=11
RIGHT_THUMB=12
deadzone=0.00
 
[Help]
::Title::Star Wars Episode I: The Phantom Menace
::
Features:||n 
l|Fixes glitches on the menus and load screens
l|Fixes low frame rate on windows 10
l|Forces the game to run - pillarboxed - at your desktop resolution. Ultra-wide 
and 4K supported
l|Forces the game to run in 32 bit color depth
l|%Textures%
l|%Xinput%
::Section::Before you start::
To install the game on a 64 bit system, click a| INSTALL_SCRIPT ^ here|a ||n 
Start the game once without the patch and configure the resolution to 640x480||n 
Restart the game with the patch and it will force the game to run at your monitor's 
native resolution, but preserving the 4:3 aspec ratio. Captions will be bigger 
and the game won't change the display mode every time you enter the menu||n 
Whenever you play, remember to hit backspace to bring up the game i|'console'|i
then type b|60fps|b to inclease the frame rate||n
Fraps, and maybe similar programs, crash the game when it starts with the patch
::%ddraw%::
::link:: INSTALL_SCRIPT->#persistent
if (A_OsVersion = "WinXP")
{
   msgbox, 16, ,Can only install on vista and latter
   exitapp  
}
DriveGet, drives, list, CDROM
TPM=
for k, v in strsplit(drives)
    fileexist(v ":\GAMEDATA\BIN\wmain.exe") ? TPM := v
if not TPM
{
    msgbox, 16, ,Please insert the game's CD ROM
    exitapp   
} 
if not (dest := ui_GetDestinationFolder("Games\Star Wars\Episode I - The Phantom Menace",,,False))
    exitapp
filecreatedir, %dest%\jcg   
filecreatedir, %dest%\music  
ShellUnzip(TPM ":\GAMEDATA\BIN", dest)  
ShellUnzip(TPM ":\GAMEDATA\jcg", dest "\jcg") 
ShellUnzip(TPM ":\GAMEDATA\music", dest "\music") 
filecopy, %TPM%:\TPM.exe, %dest%\TPM.exe
runwait "Patches\Dark Earth\i3comp.exe" "%TPM%:\GAMEDATA\GOBS\big.z" "%dest%\*.*" -d -i
subkey=SOFTWARE\LucasArts Entertainment Company LLC\The Phantom Menace\v1.0
RegWrite, REG_SZ, HKEY_LOCAL_MACHINE, %SubKey%, Source Path, %TPM%:\\
RegWrite, REG_SZ, HKEY_LOCAL_MACHINE, %SubKey%, CD Path, %TPM%:\\
RegWrite, REG_SZ, HKEY_LOCAL_MACHINE, %SubKey%, Source Dir, %TPM%:\\
RegWrite, REG_SZ, HKEY_LOCAL_MACHINE, %SubKey%, Source Dir, %TPM%:\\
RegWrite, REG_SZ, HKEY_LOCAL_MACHINE, %SubKey%, JoystickID, 1
RegWrite, REG_SZ, HKEY_LOCAL_MACHINE, %SubKey%, SoundCard, TRUE
RegWrite, REG_SZ, HKEY_LOCAL_MACHINE, %SubKey%, Executable, %dest%\winmain.exe
RegWrite, REG_SZ, HKEY_LOCAL_MACHINE, %SubKey%, Install Path, %dest%
RegWrite, REG_SZ, HKEY_LOCAL_MACHINE, %SubKey%, Analyze Path, %TPM%:\\INSTALL\\SysCheck.exe
RegWrite, REG_DWORD, HKEY_LOCAL_MACHINE, %SubKey%, InstallType, 00000001 
msgbox, 64,, Done, you will need to have your CD on drive %TPM% whenever you want to play! 
exitapp::  
     
 
[Textswap]
s=4
sz=256
path=Textures\VOKSI
n=PgDn
p=PgUp
d=home
sw=end
c=del
q=Shift
xBR=0
xBRs=4
l=0 
 
